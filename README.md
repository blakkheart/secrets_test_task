
# üîê Secret API üîê

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏ Market Intelligence.

API —Å–µ—Ä–≤–∏—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Å–µ–∫—Ä–µ—Ç, –∑–∞–¥–∞—Ç—å –∫–æ–¥–æ–≤—É—é —Ñ—Ä–∞–∑—É –¥–ª—è –µ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –∏ c–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–µ–∫—Ä–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.
-   –ú–µ—Ç–æ–¥  `/generate`  –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–µ–∫—Ä–µ—Ç –∏ –∫–æ–¥–æ–≤—É—é —Ñ—Ä–∞–∑—É –∏ –æ—Ç–¥–∞–µ—Ç  `secret_key` , –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —ç—Ç–æ—Ç —Å–µ–∫—Ä–µ—Ç –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å.
-   –ú–µ—Ç–æ–¥  `/secrets/{secret_key}`  –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –∫–æ–¥–æ–≤—É—é —Ñ—Ä–∞–∑—É –∏ –æ—Ç–¥–∞–µ—Ç —Å–µ–∫—Ä–µ—Ç.

–°–µ—Ä–≤–∏—Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã.
–î–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–æ –≤–Ω–µ—à–Ω–µ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∑–∞–ø—É—Å–∫ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–ø–∏—Å–∞–Ω –≤  `docker-compose`. 
–°–µ–∫—Ä–µ—Ç—ã –∏ –∫–æ–¥–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ.
–ó–∞–¥–∞–Ω–æ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é TTL –∏–Ω–¥–µ–∫—Å–æ–≤. –í –¥–∞–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ–∫—Ä–µ—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç 7 –¥–Ω–µ–π —Å –º–æ–º–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è, –ø–æ—Å–ª–µ —á–µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
 

## –°—Ç—ç–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- [FastAPI](https://fastapi.tiangolo.com/) ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫.
- [MongoDB](https://www.mongodb.com/) ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- [Motor](https://github.com/mongodb/motor) ‚Äî –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è MongoDB –∏ FastAPI.
- [cryptography](https://pypi.org/project/cryptography/)  ‚Äî –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
- [pytest](https://docs.pytest.org/en/8.0.x/) + [pytest-asyncio](https://pypi.org/project/pytest-asyncio/) ‚Äî –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.
- [Docker](https://www.docker.com/) ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- [Jinja2](https://pypi.org/project/Jinja2/) + [Bootstrap](https://getbootstrap.com/)  ‚Äî –¥–ª—è –Ω–µ–±–æ–ª—å—à–æ–π –≤–∏–∑—É–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/blakkheart/secrets_test_task.git
```
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cd secrets_test_task
```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
   - Windows
   ```bash
   python -m venv venv
   source venv/Scripts/activate
   ```
   - Linux/macOS
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```
4. –û–±–Ω–æ–≤–∏—Ç–µ [pip](https://pip.pypa.io/en/stable/):
   - Windows
   ```bash
   (venv) python -m pip install --upgrade pip
   ```
   - Linux/macOS
   ```bash
   (venv) python3 -m pip install --upgrade pip
   ```
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ —Ñ–∞–π–ª–∞ requirements.txt:
   ```bash
   (venv) pip install -r requirements.txt
   ```
–°–æ–∑–¥–∞–π—Ç–µ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª `.env` –ø–æ –ø—Ä–∏–º–µ—Ä—É —Å —Ñ–∞–π–ª–æ–º `.env.example`, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.



## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ  

1. –í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –¥–æ–∫–µ—Ä-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
	```bash
	docker compose up
	```
C–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É **localhost:8000** –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ API.
–î–æ—Å—Ç—É–ø–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
 - **localhost:8000/generate**   ‚Äî   POST –∑–∞–ø—Ä–æ—Å c –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
	 ```json
	 {
	 "code_phrase": "string",
	 "secret": "string"
	 }
	 ```
  - **localhost:8000/generate/{secret_key}**   ‚Äî   POST –∑–∞–ø—Ä–æ—Å c –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
	  ```json
	  {
	 "code_phrase": "string"
	 }
	  ```
  - **localhost:8000** - –¥–µ–º–æ –ø—Ä–æ–µ–∫—Ç–∞.
  - **localhost:8000/docs** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
–ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `pytest`

